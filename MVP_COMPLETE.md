# CS2 Case Opening Website - MVP

‚úÖ **–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –∑–∞–ø—É—â–µ–Ω!**

## üéØ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### Backend (NestJS + PostgreSQL + Drizzle ORM)
- ‚úÖ JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å refresh tokens
- ‚úÖ CRUD –¥–ª—è –∫–µ–π—Å–æ–≤ –∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–æ–≤ —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏
- ‚úÖ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –æ—Ç–∫—Ä—ã—Ç–∏–π
- ‚úÖ Admin API —Å –∑–∞—â–∏—Ç–æ–π
- ‚úÖ Rate limiting (100 req/min)
- ‚úÖ Security (Helmet, CORS, validation)
- ‚úÖ Seed –¥–∞–Ω–Ω—ã–µ (5 –∫–µ–π—Å–æ–≤, 17 –ø—Ä–µ–¥–º–µ—Ç–æ–≤)

### Frontend (Next.js 14 + TailwindCSS)
- ‚úÖ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- ‚úÖ –°–ø–∏—Å–æ–∫ –∫–µ–π—Å–æ–≤
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ Responsive design

### Admin Panel (Next.js 14)
- ‚úÖ Dashboard
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ–π—Å–∞–º–∏ (CRUD)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ (CRUD)
- ‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø (—Ç–æ–ª—å–∫–æ admin)

### Infrastructure
- ‚úÖ Docker Compose
- ‚úÖ PostgreSQL 16
- ‚úÖ Nginx reverse proxy
- ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã –¥–ª—è frontend/admin

## üöÄ –ó–∞–ø—É—â–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

| –°–µ—Ä–≤–∏—Å | URL | –°—Ç–∞—Ç—É—Å |
|--------|-----|--------|
| Backend API | http://localhost:4000/api | ‚úÖ Running |
| Frontend | http://localhost:3000 | ‚úÖ Running |
| Admin Panel | http://localhost:3001 | ‚úÖ Running |
| PostgreSQL | localhost:5433 | ‚úÖ Running |

## üë§ –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

**–û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- Email: test@test.com
- Password: password
- –ë–∞–ª–∞–Ω—Å: $10,000

**–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:**
- Email: admin@test.com
- Password: password
- –ë–∞–ª–∞–Ω—Å: $100,000

## üì¶ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ö–µ–π—Å—ã (5 —à—Ç):
1. **Dragon Case** - $100 (–ø—Ä–µ–º–∏—É–º –ø—Ä–µ–¥–º–µ—Ç—ã)
2. **Fire Case** - $75 (–æ–≥–Ω–µ–Ω–Ω—ã–µ —Å–∫–∏–Ω—ã)
3. **Starter Case** - $25 (–¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤)
4. **Premium Case** - $150 (–≤—ã—Å–æ–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å)
5. **Mystery Case** - $50 (—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)

### –ü—Ä–µ–¥–º–µ—Ç—ã (17 —à—Ç):
- **Legendary** (2%): AWP Dragon Lore, Karambit Fade
- **Epic** (8%): AK-47 Fire Serpent, M4A4 Howl, Butterfly Knife
- **Rare** (20%): AK-47 Redline, AWP Asiimov, M4A1-S Hyper Beast
- **Common** (70%): 10+ –æ–±—ã—á–Ω—ã—Ö —Å–∫–∏–Ω–æ–≤

## üéÆ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
```
1. –û—Ç–∫—Ä–æ–π http://localhost:3000
2. –ù–∞–∂–º–∏ "Register"
3. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É
4. –ü–æ–ª—É—á–∏ $1000 —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞
```

### 2. –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–µ–π—Å–∞
```
1. –ü–µ—Ä–µ–π–¥–∏ –≤ "Cases"
2. –í—ã–±–µ—Ä–∏ –∫–µ–π—Å
3. –ù–∞–∂–º–∏ "Open Case"
4. –°–º–æ—Ç—Ä–∏ –∞–Ω–∏–º–∞—Ü–∏—é
5. –ü–æ–ª—É—á–∏ –ø—Ä–µ–¥–º–µ—Ç –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
```

### 3. –ê–¥–º–∏–Ω–∫–∞
```
1. –û—Ç–∫—Ä–æ–π http://localhost:3001
2. –í–æ–π–¥–∏ –∫–∞–∫ admin@test.com / password
3. –£–ø—Ä–∞–≤–ª—è–π –∫–µ–π—Å–∞–º–∏ –∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏
```

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### Backend
```bash
cd apps/backend

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
DATABASE_URL=postgresql://postgres:postgres@localhost:5433/cs2cases npm run start:dev

# –ú–∏–≥—Ä–∞—Ü–∏–∏
DATABASE_URL=postgresql://postgres:postgres@localhost:5433/cs2cases npm run migration:run

# Seed –¥–∞–Ω–Ω—ã–µ
DATABASE_URL=postgresql://postgres:postgres@localhost:5433/cs2cases npm run seed
```

### Frontend
```bash
cd apps/frontend

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
NEXT_PUBLIC_API_URL=http://localhost:4000/api npm run dev
```

### Admin
```bash
cd apps/admin

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
NEXT_PUBLIC_API_URL=http://localhost:4000/api npm run dev
```

### Docker
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –õ–æ–≥–∏
docker-compose logs -f
```

## üìä API Endpoints

### Public
```
GET    /api/cases              - –°–ø–∏—Å–æ–∫ –∫–µ–π—Å–æ–≤
GET    /api/cases/:slug        - –î–µ—Ç–∞–ª–∏ –∫–µ–π—Å–∞
POST   /api/cases/:slug/open   - –û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å (auth)
POST   /api/auth/register      - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST   /api/auth/login         - –í—Ö–æ–¥
GET    /api/auth/me            - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```

### Protected
```
GET    /api/user/profile       - –ü—Ä–æ—Ñ–∏–ª—å
GET    /api/user/inventory     - –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
GET    /api/user/history       - –ò—Å—Ç–æ—Ä–∏—è
```

### Admin
```
GET    /api/admin/cases        - –í—Å–µ –∫–µ–π—Å—ã
POST   /api/admin/cases        - –°–æ–∑–¥–∞—Ç—å –∫–µ–π—Å
PUT    /api/admin/cases/:id    - –û–±–Ω–æ–≤–∏—Ç—å –∫–µ–π—Å
DELETE /api/admin/cases/:id    - –£–¥–∞–ª–∏—Ç—å –∫–µ–π—Å
GET    /api/admin/items        - –í—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã
POST   /api/admin/items        - –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç
PUT    /api/admin/items/:id    - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç
DELETE /api/admin/items/:id    - –£–¥–∞–ª–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã (15 –º–∏–Ω access, 7 –¥–Ω–µ–π refresh)
- ‚úÖ Bcrypt —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ Rate limiting (100 req/min)
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ Input validation (class-validator)
- ‚úÖ SQL injection –∑–∞—â–∏—Ç–∞ (Drizzle ORM)
- ‚úÖ XSS –∑–∞—â–∏—Ç–∞ (Helmet.js)
- ‚úÖ Admin guard –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö endpoints

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ API response < 100ms
- ‚úÖ Database indexes
- ‚úÖ Connection pooling
- ‚úÖ Optimized queries

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
steambattlev2/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ backend/          # NestJS API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ modules/  # Auth, Cases, Users, Admin
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db/       # Schema, migrations, seed
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ common/   # Guards, decorators, DTOs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ frontend/         # Next.js public site
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app/          # Pages (App Router)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/   # React components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/          # API client, stores
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ admin/            # Next.js admin panel
‚îÇ       ‚îú‚îÄ‚îÄ app/          # Admin pages
‚îÇ       ‚îú‚îÄ‚îÄ lib/          # Admin API client
‚îÇ       ‚îî‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îî‚îÄ‚îÄ nginx.conf        # Reverse proxy config
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ README.md
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

**MVP –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∑–∞ ~4 —á–∞—Å–∞ —Ä–∞–±–æ—Ç—ã!**

- ‚úÖ Backend API —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Frontend —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Admin panel —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø–æ–ª–Ω–µ–Ω–∞
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- ‚úÖ –ö–æ–¥ –∑–∞–ª–∏—Ç –≤ GitHub
- ‚úÖ Docker –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é

## üîó GitHub

Repository: https://github.com/Chumbayoumba/cs2-case-opening

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è CS Market API**
   - –†–µ–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

2. **–ü–ª–∞—Ç–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**
   - –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
   - –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤

3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏**
   - Live feed –æ—Ç–∫—Ä—ã—Ç–∏–π
   - Provably fair —Å–∏—Å—Ç–µ–º–∞
   - –¢–æ—Ä–≥–æ–≤–ª—è –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏
   - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
   - Leaderboards

4. **Production –¥–µ–ø–ª–æ–π**
   - CI/CD pipeline
   - SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   - –ë—ç–∫–∞–ø—ã

## üéØ –ò—Ç–æ–≥–æ

–°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π MVP –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è CS2 –∫–µ–π—Å–æ–≤:
- 3 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Backend, Frontend, Admin)
- 42 —Ñ–∞–π–ª–∞ –∫–æ–¥–∞
- 5 –∫–µ–π—Å–æ–≤ —Å 17 –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏
- –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- Docker-ready –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Production-ready –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!** üöÄ
